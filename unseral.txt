2024-09-25T13:42:19.508-0700 [TRACE] core: oss wrapGenericHandler ServeHTTP: path=/v1/sys/unseal method=POST ns=root
2024-09-25T13:42:19.509-0700 [TRACE] core: 1000000001 start unseal: key="\x00n����+}���\";���|&\x16�A',��P%����a"
2024-09-25T13:42:19.509-0700 [DEBUG] core: unseal key supplied: migrate=false
2024-09-25T13:42:19.552-0700 [DEBUG] storage.tdengine: tdengine list: table=openbao.root prefix=core/ keys=["shamir-kek", "seal-config", "hsm/", "cluster/", "wrapping/", "local-mounts", "auth", "local-auth", "index-header-hmac-key", "audit", "local-audit", "versions/", "plugin-catalog/", "mounts", "keyring", "master"]
2024-09-25T13:42:19.661-0700 [DEBUG] storage.tdengine: tdengine get: table=openbao.root key=core/seal-config
2024-09-25T13:42:19.763-0700 [DEBUG] storage.tdengine: tdengine get: table=openbao.root key=core/hsm/barrier-unseal-keys
2024-09-25T13:42:19.764-0700 [TRACE] core: 100000000002 unseal key to master key pre unseal: masterKey="\x19�gS�(8D�x�R5��E±�������\x17m\x1b�\x04#�"
2024-09-25T13:42:19.764-0700 [TRACE] core: 000003000003 mounts and router: mounts=<nil> router="&{{{0 0} 0 0 {{} 0} {{} 0}} 0xc0004ca8c0 0xc0004ca8e0 0xc0004ca8f0 <nil> 0xc0004ca8d0 0xc000701320}"
2024-09-25T13:42:19.872-0700 [DEBUG] storage.tdengine: tdengine get: table=openbao.root key=core/keyring
2024-09-25T13:42:19.872-0700 [TRACE] core: 000000300004 mounts and router: mounts=<nil> router="&{{{0 0} 0 0 {{} 0} {{} 0}} 0xc0004ca8c0 0xc0004ca8e0 0xc0004ca8f0 <nil> 0xc0004ca8d0 0xc000701320}"
2024-09-25T13:42:19.872-0700 [DEBUG] core: starting cluster listeners
2024-09-25T13:42:19.872-0700 [INFO]  core.cluster-listener.tcp: starting listener: listener_address=127.0.0.1:8201
2024-09-25T13:42:19.872-0700 [INFO]  core.cluster-listener: serving cluster requests: cluster_listen_address=127.0.0.1:8201
2024-09-25T13:42:19.872-0700 [TRACE] core: 000003000005 mounts and router: mounts=<nil> router="&{{{0 0} 0 0 {{} 0} {{} 0}} 0xc0004ca8c0 0xc0004ca8e0 0xc0004ca8f0 <nil> 0xc0004ca8d0 0xc000701320}"
2024-09-25T13:42:19.979-0700 [DEBUG] storage.tdengine: tdengine get: table=openbao.root key=core/cluster/local/info
2024-09-25T13:42:19.979-0700 [TRACE] core: 000000400000 mounts and router: mounts=<nil>
2024-09-25T13:42:19.979-0700 [INFO]  core: post-unseal setup starting
2024-09-25T13:42:19.979-0700 [TRACE] core: 000000400001 mounts and router: mounts=<nil>
2024-09-25T13:42:20.016-0700 [DEBUG] storage.tdengine: tdengine list: table=openbao.root prefix=core/versions/ keys=["2.0.0"]
2024-09-25T13:42:20.120-0700 [DEBUG] storage.tdengine: tdengine get: table=openbao.root key=core/versions/2.0.0
2024-09-25T13:42:20.120-0700 [DEBUG] core: clearing forwarding clients
2024-09-25T13:42:20.120-0700 [DEBUG] core: done clearing forwarding clients
2024-09-25T13:42:20.120-0700 [TRACE] core: 0000500000 unsealer unseal: mounts=<nil>
2024-09-25T13:42:20.120-0700 [TRACE] core: 0000500001 unsealer unseal: mounts=<nil>
2024-09-25T13:42:20.120-0700 [DEBUG] core: persisting feature flags
2024-09-25T13:42:20.186-0700 [DEBUG] storage.tdengine: tdengine put: table=openbao.root key=core/cluster/feature-flags possible error=<nil>
2024-09-25T13:42:20.288-0700 [DEBUG] storage.tdengine: tdengine get: table=openbao.root key=core/wrapping/jwtkey
2024-09-25T13:42:20.289-0700 [INFO]  core: loaded wrapping token key
2024-09-25T13:42:20.325-0700 [DEBUG] storage.tdengine: tdengine list: table=openbao.root prefix=core/plugin-catalog/ keys=["secret/"]
2024-09-25T13:42:20.325-0700 [INFO]  core: upgrading plugin information: plugins=[]
2024-09-25T13:42:20.325-0700 [INFO]  core: successfully setup plugin catalog: plugin-directory=/home/peter/vault/plugins
2024-09-25T13:42:20.325-0700 [TRACE] core: 0000500002 unsealer unseal: mounts=<nil>
2024-09-25T13:42:20.466-0700 [DEBUG] storage.tdengine: tdengine get: table=openbao.root key=core/mounts
2024-09-25T13:42:20.592-0700 [DEBUG] storage.tdengine: tdengine get: table=openbao.root key=core/local-mounts
2024-09-25T13:42:20.593-0700 [TRACE] core: 0000500003 unsealer unseal: mounts="&vault.MountTable{Type:\"mounts\", Entries:[]*vault.MountEntry{(*vault.MountEntry)(0xc0001d3a40), (*vault.MountEntry)(0xc0001d3c00), (*vault.MountEntry)(0xc0001d3dc0), (*vault.MountEntry)(0xc000b9e000)}}"
2024-09-25T13:42:20.594-0700 [TRACE] core.router: 77777777 Mount: ns="ID: root. Path: " type=system nsID=root prefix=sys/ radix=map[]
2024-09-25T13:42:20.594-0700 [INFO]  core: successfully mounted: type=system version="v2.0.0+builtin.bao" path=sys/ namespace="ID: root. Path: "
2024-09-25T13:42:20.594-0700 [TRACE] core.router: 77777777 Mount: ns="ID: root. Path: " type=identity nsID=root prefix=identity/ radix=map[sys/:0xc000976580]
2024-09-25T13:42:20.594-0700 [INFO]  core: successfully mounted: type=identity version="v2.0.0+builtin.bao" path=identity/ namespace="ID: root. Path: "
2024-09-25T13:42:20.712-0700 [DEBUG] storage.tdengine: tdengine get: table=openbao.root key=core/plugin-catalog/secret/graph
2024-09-25T13:42:20.712-0700 [DEBUG] core: spawning a new plugin process: plugin_name=graph id=ssbJBEdQ7m
2024-09-25T13:42:20.738-0700 [INFO]  secrets.graph.graph_039c57c9.graph: configuring client automatic mTLS
2024-09-25T13:42:20.750-0700 [DEBUG] secrets.graph.graph_039c57c9.graph: starting plugin: path=/home/peter/vault/plugins/graph args=["/home/peter/vault/plugins/graph"]
2024-09-25T13:42:20.751-0700 [DEBUG] secrets.graph.graph_039c57c9.graph: plugin started: path=/home/peter/vault/plugins/graph pid=245475
2024-09-25T13:42:20.751-0700 [DEBUG] secrets.graph.graph_039c57c9.graph: waiting for RPC address: path=/home/peter/vault/plugins/graph
2024-09-25T13:42:20.760-0700 [INFO]  secrets.graph.graph_039c57c9.graph.graph: configuring server automatic mTLS: timestamp=2024-09-25T13:42:20.760-0700
2024-09-25T13:42:20.776-0700 [DEBUG] secrets.graph.graph_039c57c9.graph.graph: plugin address: address=/tmp/plugin3328639588 network=unix timestamp=2024-09-25T13:42:20.776-0700
2024-09-25T13:42:20.776-0700 [DEBUG] secrets.graph.graph_039c57c9.graph: using plugin: version=5
2024-09-25T13:42:20.786-0700 [TRACE] secrets.graph.graph_039c57c9.graph.stdio: waiting for stdio data
2024-09-25T13:42:20.786-0700 [TRACE] secrets.graph.graph_039c57c9.graph: setup: transport=gRPC status=started
2024-09-25T13:42:20.788-0700 [INFO]  secrets.graph.graph_039c57c9.graph.graph: graph backend initialized: timestamp=2024-09-25T13:42:20.788-0700
2024-09-25T13:42:20.788-0700 [TRACE] secrets.graph.graph_039c57c9.graph: setup: transport=gRPC status=finished err=<nil> took=1.471532ms
2024-09-25T13:42:20.788-0700 [TRACE] secrets.graph.graph_039c57c9.graph: type: transport=gRPC status=started
2024-09-25T13:42:20.788-0700 [TRACE] secrets.graph.graph_039c57c9.graph: type: transport=gRPC status=finished took="386.048µs"
2024-09-25T13:42:20.788-0700 [TRACE] core.router: 77777777 Mount: ns="ID: root. Path: " type=graph nsID=root prefix=graph/ radix="map[identity/:0xc000976a00 sys/:0xc000976580]"
2024-09-25T13:42:20.788-0700 [TRACE] secrets.graph.graph_039c57c9.graph: special paths: transport=gRPC status=started
2024-09-25T13:42:20.789-0700 [TRACE] secrets.graph.graph_039c57c9.graph: special paths: transport=gRPC status=finished took=1.00921ms
2024-09-25T13:42:20.790-0700 [INFO]  core: successfully mounted: type=graph version="" path=graph/ namespace="ID: root. Path: "
2024-09-25T13:42:20.790-0700 [TRACE] core.router: 77777777 Mount: ns="ID: root. Path: " type=cubbyhole nsID=root prefix=cubbyhole/ radix="map[graph/:0xc000a27480 identity/:0xc000976a00 sys/:0xc000976580]"
2024-09-25T13:42:20.790-0700 [INFO]  core: successfully mounted: type=cubbyhole version="v2.0.0+builtin.bao" path=cubbyhole/ namespace="ID: root. Path: "
2024-09-25T13:42:20.790-0700 [TRACE] core: 0000500004 unsealer unseal: mounts="&vault.MountTable{Type:\"mounts\", Entries:[]*vault.MountEntry{(*vault.MountEntry)(0xc0001d3a40), (*vault.MountEntry)(0xc0001d3c00), (*vault.MountEntry)(0xc0001d3dc0), (*vault.MountEntry)(0xc000b9e000)}}"
2024-09-25T13:42:20.836-0700 [DEBUG] storage.tdengine: tdengine list: table=openbao.root prefix=sys/policy/ keys=["default", "response-wrapping"]
2024-09-25T13:42:20.944-0700 [DEBUG] storage.tdengine: tdengine get: table=openbao.root key=sys/policy/default
2024-09-25T13:42:21.054-0700 [DEBUG] storage.tdengine: tdengine get: table=openbao.root key=sys/policy/response-wrapping
2024-09-25T13:42:21.115-0700 [DEBUG] storage.tdengine: tdengine put: table=openbao.root key=sys/namespaces/root possible error=<nil>
2024-09-25T13:42:21.222-0700 [DEBUG] storage.tdengine: tdengine get: table=openbao.root key=sys/config/cors record="not found"
2024-09-25T13:42:21.329-0700 [DEBUG] storage.tdengine: tdengine get: table=openbao.root key=core/auth
2024-09-25T13:42:21.435-0700 [DEBUG] storage.tdengine: tdengine get: table=openbao.root key=core/local-auth
2024-09-25T13:42:21.539-0700 [DEBUG] storage.tdengine: tdengine get: table=openbao.root key=core/sscGenCounter/ record="not found"
2024-09-25T13:42:21.539-0700 [TRACE] token: no token generation counter found in storage
2024-09-25T13:42:21.539-0700 [TRACE] core.router: 77777777 Mount: ns="ID: root. Path: " type=token nsID=root prefix=auth/token/ radix="map[cubbyhole/:0xc000a27600 graph/:0xc000a27480 identity/:0xc000976a00 sys/:0xc000976580]"
2024-09-25T13:42:21.540-0700 [INFO]  core: successfully mounted: type=token version="v2.0.0+builtin.bao" path=token/ namespace="ID: root. Path: "
2024-09-25T13:42:21.643-0700 [DEBUG] storage.tdengine: tdengine get: table=openbao.root key=sys/quotas/config record="not found"
2024-09-25T13:42:21.746-0700 [DEBUG] storage.tdengine: tdengine get: table=openbao.root key=sys/quotas/default_rate_limit_exempt_paths_toggle record="not found"
2024-09-25T13:42:21.781-0700 [DEBUG] storage.tdengine: tdengine list: table=openbao.root prefix=sys/quotas/rate-limit/ keys=[]
2024-09-25T13:42:21.886-0700 [DEBUG] storage.tdengine: tdengine get: table=openbao.root key=core/index-header-hmac-key
2024-09-25T13:42:21.930-0700 [DEBUG] storage.tdengine: tdengine list: table=openbao.root prefix=core/login/lockedUsers/ keys=[]
2024-09-25T13:42:21.930-0700 [INFO]  rollback: Starting the rollback manager with 256 workers
2024-09-25T13:42:21.930-0700 [TRACE] expiration.job-manager: created dispatcher: name=expire-dispatcher num_workers=200
2024-09-25T13:42:21.931-0700 [TRACE] expiration.job-manager: initialized dispatcher: num_workers=200
2024-09-25T13:42:21.931-0700 [TRACE] expiration.job-manager: created job manager: name=expire pool_size=200
2024-09-25T13:42:21.931-0700 [TRACE] expiration.job-manager: starting job manager: name=expire
2024-09-25T13:42:21.931-0700 [TRACE] expiration.job-manager: starting dispatcher
2024-09-25T13:42:21.931-0700 [INFO]  rollback: starting rollback manager
2024-09-25T13:42:21.931-0700 [INFO]  core: restoring leases
2024-09-25T13:42:21.931-0700 [DEBUG] expiration: collecting leases
2024-09-25T13:42:21.976-0700 [DEBUG] storage.tdengine: tdengine list: table=openbao.root prefix=sys/expire/id/ keys=[]
2024-09-25T13:42:21.976-0700 [DEBUG] expiration: leases collected: num_existing=0
2024-09-25T13:42:21.977-0700 [INFO]  expiration: lease restore complete
2024-09-25T13:42:22.067-0700 [DEBUG] storage.tdengine: tdengine get: table=openbao.root key=core/audit
2024-09-25T13:42:22.245-0700 [DEBUG] storage.tdengine: tdengine get: table=openbao.root key=core/local-audit
2024-09-25T13:42:22.245-0700 [DEBUG] identity: loading entities
2024-09-25T13:42:22.285-0700 [DEBUG] storage.tdengine: tdengine list: table=openbao.root prefix=logical/f8e49029-c9ff-5564-72bd-32f63bd1eb25/packer/buckets/ keys=[]
2024-09-25T13:42:22.286-0700 [DEBUG] identity: entities collected: num_existing=0
2024-09-25T13:42:22.286-0700 [INFO]  identity: entities restored
2024-09-25T13:42:22.286-0700 [DEBUG] identity: identity loading groups
2024-09-25T13:42:22.332-0700 [DEBUG] storage.tdengine: tdengine list: table=openbao.root prefix=logical/f8e49029-c9ff-5564-72bd-32f63bd1eb25/packer/group/buckets/ keys=[]
2024-09-25T13:42:22.332-0700 [DEBUG] identity: groups collected: num_existing=0
2024-09-25T13:42:22.332-0700 [INFO]  identity: groups restored
2024-09-25T13:42:22.332-0700 [DEBUG] identity: identity loading OIDC clients
2024-09-25T13:42:22.378-0700 [DEBUG] storage.tdengine: tdengine list: table=openbao.root prefix=logical/f8e49029-c9ff-5564-72bd-32f63bd1eb25/oidc_provider/client/ keys=[]
2024-09-25T13:42:22.379-0700 [TRACE] mfa: loading login MFA configurations
2024-09-25T13:42:22.424-0700 [DEBUG] storage.tdengine: tdengine list: table=openbao.root prefix=sys/login-mfa/method/ keys=[]
2024-09-25T13:42:22.424-0700 [TRACE] mfa: methods collected: num_existing=0
2024-09-25T13:42:22.424-0700 [TRACE] mfa: configurations restored: namespace="" prefix=login-mfa/method/
2024-09-25T13:42:22.424-0700 [TRACE] mfa: loading login MFA enforcement configurations
2024-09-25T13:42:22.470-0700 [DEBUG] storage.tdengine: tdengine list: table=openbao.root prefix=sys/login-mfa/enforcement/ keys=[]
2024-09-25T13:42:22.470-0700 [TRACE] mfa: enforcements configs collected: num_existing=0
2024-09-25T13:42:22.470-0700 [TRACE] mfa: enforcement configurations restored: namespace="" prefix=login-mfa/enforcement/
2024-09-25T13:42:22.591-0700 [DEBUG] storage.tdengine: tdengine get: table=openbao.root key=sys/audited-headers-config/audited-headers record="not found"
2024-09-25T13:42:22.591-0700 [DEBUG] core: request forwarding setup function
2024-09-25T13:42:22.591-0700 [DEBUG] core: clearing forwarding clients
2024-09-25T13:42:22.591-0700 [DEBUG] core: done clearing forwarding clients
2024-09-25T13:42:22.591-0700 [DEBUG] core: request forwarding not setup
2024-09-25T13:42:22.591-0700 [DEBUG] core: leaving request forwarding setup function
2024-09-25T13:42:22.591-0700 [INFO]  core: usage gauge collection is disabled
2024-09-25T13:42:22.636-0700 [DEBUG] storage.tdengine: tdengine list: table=openbao.root prefix=core/versions/ keys=["2.0.0"]
2024-09-25T13:42:22.636-0700 [TRACE] core: 000000400002 mounts and router: mounts="&{mounts [0xc0001d3a40 0xc0001d3c00 0xc0001d3dc0 0xc000b9e000]}"
2024-09-25T13:42:22.636-0700 [TRACE] secrets.graph.graph_039c57c9.graph: initialize: transport=gRPC status=started
2024-09-25T13:42:22.638-0700 [TRACE] secrets.graph.graph_039c57c9.graph: initialize: transport=gRPC status=finished err=<nil> took=1.678493ms
2024-09-25T13:42:22.760-0700 [DEBUG] storage.tdengine: tdengine get: table=openbao.root key=logical/f8e49029-c9ff-5564-72bd-32f63bd1eb25/oidc_provider/provider/default
2024-09-25T13:42:22.878-0700 [DEBUG] storage.tdengine: tdengine get: table=openbao.root key=logical/f8e49029-c9ff-5564-72bd-32f63bd1eb25/oidc_tokens/named_keys/default
2024-09-25T13:42:22.994-0700 [DEBUG] storage.tdengine: tdengine get: table=openbao.root key=logical/f8e49029-c9ff-5564-72bd-32f63bd1eb25/oidc_provider/assignment/allow_all
2024-09-25T13:42:23.108-0700 [DEBUG] storage.tdengine: tdengine get: table=openbao.root key=logical/f8e49029-c9ff-5564-72bd-32f63bd1eb25/casesensitivity record="not found"
2024-09-25T13:42:23.108-0700 [TRACE] core: 000000400004 mounts and router: mounts="&{mounts [0xc0001d3a40 0xc0001d3c00 0xc0001d3dc0 0xc000b9e000]}"
2024-09-25T13:42:23.108-0700 [TRACE] core: 000000400005 mounts and router: mounts="&{mounts [0xc0001d3a40 0xc0001d3c00 0xc0001d3dc0 0xc000b9e000]}"
2024-09-25T13:42:23.108-0700 [INFO]  core: post-unseal setup complete
2024-09-25T13:42:23.108-0700 [TRACE] core: 00000300006 mounts and router: mounts="&{mounts [0xc0001d3a40 0xc0001d3c00 0xc0001d3dc0 0xc000b9e000]}" router="&{{{0 0} 0 0 {{} 0} {{} 0}} 0xc0004ca8c0 0xc0004ca8e0 0xc0004ca8f0 0x2d46300 0xc0004ca8d0 0xc000701320}"
2024-09-25T13:42:23.108-0700 [INFO]  core: vault is unsealed
2024-09-25T13:42:23.108-0700 [TRACE] core: 100000000003 mounts and router: mounts="&{mounts [0xc0001d3a40 0xc0001d3c00 0xc0001d3dc0 0xc000b9e000]}" router="&{{{0 0} 0 0 {{} 0} {{} 0}} 0xc0004ca8c0 0xc0004ca8e0 0xc0004ca8f0 0x2d46300 0xc0004ca8d0 0xc000701320}"
2024-09-25T13:42:23.108-0700 [TRACE] core: 1000000004 end unseal
2024-09-25T13:42:23.234-0700 [DEBUG] storage.tdengine: tdengine get: table=openbao.root key=core/seal-config
2024-09-25T13:42:23.338-0700 [DEBUG] storage.tdengine: tdengine get: table=openbao.root key=core/cluster/local/info
2024-09-25T13:42:23.339-0700 [TRACE] core: 1000000005 get seal status and response: status="&{shamir true false 1 1 0  2.0.0-HEAD 2024-09-22T08:17:20Z false vault-cluster-dc3b274f a2d17300-3c7a-60c2-6597-5148f3dbb8bd false tdengine []}"

